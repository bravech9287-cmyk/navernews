- [ ] `.cursor/` 디렉토리
  - [ ] `rules/` 커서룰
  - [ ] `mcp.json` MCP 서버 설정
  - [ ] `dir.md` 프로젝트 디렉토리 구조
- [ ] `.github/` 디렉토리
- [ ] `.husky/` 디렉토리
- [ ] `app/` 디렉토리
  - [ ] `favicon.ico` 파일
  - [ ] `not-found.tsx` 파일
  - [ ] `robots.ts` 파일
  - [ ] `sitemap.ts` 파일
  - [ ] `manifest.ts` 파일
- [ ] `supabase/` 디렉토리
- [ ] `public/` 디렉토리
  - [ ] `icons/` 디렉토리
  - [ ] `logo.png` 파일
  - [ ] `og-image.png` 파일
- [ ] `tsconfig.json` 파일
- [ ] `.cursorignore` 파일
- [ ] `.gitignore` 파일
- [ ] `.prettierignore` 파일
- [ ] `.prettierrc` 파일
- [ ] `tsconfig.json` 파일
- [ ] `eslint.config.mjs` 파일
- [ ] `AGENTS.md` 파일

# My Trip - 개발 TODO 리스트

> PRD, Flowchart, Design 문서 기반 작업 항목 정리

## Phase 1: 기본 구조 & 공통 설정

- [ ] 프로젝트 셋업
  - [ ] 환경변수 설정 (`.env`)
    - [ ] `NEXT_PUBLIC_TOUR_API_KEY` (한국관광공사 API)
    - [ ] `TOUR_API_KEY` (서버 사이드용)
    - [ ] `NEXT_PUBLIC_NAVER_MAP_CLIENT_ID` (네이버 지도)
    - [ ] Clerk 인증 키 확인
    - [ ] Supabase 키 확인
  - [ ] `.env.example` 파일 생성
- [x] API 클라이언트 구현
  - [x] `lib/api/tour-api.ts` 생성
    - [x] `getAreaCode(params?)` - 지역코드 조회 (`areaCode2`)
      - 파라미터: `areaCode?` (선택, 없으면 시/도 목록)
      - 반환: `AreaCode[]`
    - [x] `getAreaBasedList(params)` - 지역 기반 목록 (`areaBasedList2`)
      - 파라미터: `GetAreaBasedListParams` (areaCode, sigunguCode, contentTypeId, cat1/cat2/cat3, numOfRows, pageNo, arrange, modifiedtime)
      - 반환: `TourItem[]`
    - [x] `searchKeyword(params)` - 키워드 검색 (`searchKeyword2`)
      - 파라미터: `SearchKeywordParams` (keyword 필수, 기타 필터 옵션)
      - 반환: `TourItem[]`
    - [x] `getDetailCommon(contentId)` - 공통 정보 (`detailCommon2`)
      - 파라미터: `contentId` (필수)
      - 반환: `TourDetail`
    - [x] `getDetailIntro(contentId, contentTypeId)` - 소개 정보 (`detailIntro2`)
      - 파라미터: `contentId`, `contentTypeId` (모두 필수)
      - 반환: `TourIntro`
    - [x] `getDetailImage(contentId)` - 이미지 목록 (`detailImage2`)
      - 파라미터: `contentId` (필수)
      - 반환: `TourImage[]`
    - [x] `getDetailPetTour(contentId)` - 반려동물 정보 (`detailPetTour2`)
      - 파라미터: `contentId` (필수)
      - 반환: `PetTourInfo | null` (정보 없으면 null)
    - [x] 공통 파라미터 처리
      - Base URL: `https://apis.data.go.kr/B551011/KorService2`
      - 자동 추가: `serviceKey` (환경변수), `MobileOS="ETC"`, `MobileApp="MyTrip"`, `_type="json"`
      - 환경변수: `TOUR_API_KEY` 또는 `NEXT_PUBLIC_TOUR_API_KEY` 우선 사용
    - [x] 에러 처리 및 재시도 로직
      - `TourApiError` 커스텀 에러 클래스 구현
      - 재시도 로직: 최대 3회, 지수 백오프 (1s, 2s, 4s)
      - 네트워크 에러 및 API 에러 응답 처리
      - 응답 파싱: 단일 객체/배열 자동 처리
      - Next.js fetch 캐싱: `revalidate: 3600` (1시간)
  - [x] `app/api/tour/route.ts` 생성 (API Route)
    - [x] `GET /api/tour?endpoint=...` 엔드포인트 구현
      - 지원 엔드포인트: `areaCode2`, `areaBasedList2`, `searchKeyword2`, `detailCommon2`, `detailIntro2`, `detailImage2`, `detailPetTour2`
      - 쿼리 파라미터를 각 API 함수 파라미터로 변환
      - 에러 응답 처리 (NextResponse 사용)
      - 캐싱 헤더 설정: `Cache-Control: public, s-maxage=3600, stale-while-revalidate=86400`
- [x] 타입 정의
  - [x] `lib/types/tour.ts` 생성
    - [x] `TourItem` 인터페이스 (목록) - areaBasedList2, searchKeyword2 응답
    - [x] `TourDetail` 인터페이스 (상세) - detailCommon2 응답
    - [x] `TourIntro` 인터페이스 (운영정보) - detailIntro2 응답, 타입별 필드 optional
    - [x] `TourImage` 인터페이스 (이미지) - detailImage2 응답
    - [x] `PetTourInfo` 인터페이스 (반려동물) - detailPetTour2 응답
    - [x] `AreaCode` 인터페이스 - areaCode2 응답
    - [x] `ApiResponse<T>` 제네릭 타입 - API 응답 래퍼
    - [x] `ApiErrorResponse` 인터페이스 - 에러 응답
    - [x] `ContentTypeId` 상수 객체 - 관광 타입 ID (12, 14, 15, 25, 28, 32, 38, 39)
  - [x] `lib/types/stats.ts` 생성
    - [x] `RegionStats` 인터페이스
    - [x] `TypeStats` 인터페이스
    - [x] `StatsSummary` 인터페이스
    - [x] `ContentTypeName` 상수 객체 (타입 ID와 타입명 매핑)
- [x] 레이아웃 구조
  - [x] `app/layout.tsx` 업데이트
    - [x] 메타데이터 설정 (My Trip에 맞게 업데이트)
    - [x] Open Graph 및 Twitter Card 메타데이터 추가
    - [x] Toaster 컴포넌트 추가 (토스트 알림)
  - [x] `components/Navbar.tsx` 업데이트
    - [x] 로고 (My Trip + MapPin 아이콘)
    - [x] 검색창 (데스크톱에서 표시, 현재 비활성화)
    - [x] 로그인 버튼 (Clerk)
    - [x] 네비게이션 링크 (홈, 통계, 북마크)
    - [x] 반응형 디자인 (모바일/데스크톱)
- [x] 공통 컴포넌트
  - [x] `components/ui/loading.tsx` - 로딩 스피너 (Loader2 아이콘, 크기 옵션)
  - [x] `components/ui/skeleton.tsx` - 스켈레톤 UI (shadcn/ui 스타일)
  - [x] `components/ui/error.tsx` - 에러 메시지 (재시도 버튼 포함)
  - [x] `components/ui/toast.tsx` - 토스트 알림 (sonner 기반, layout에 Toaster 추가)

## Phase 2: 홈페이지 (`/`) - 관광지 목록

- [x] 페이지 기본 구조
  - [x] `app/page.tsx` 생성
    - [x] 기본 레이아웃 (헤더는 Navbar, 메인, 푸터)
    - [x] 반응형 컨테이너 설정 (container mx-auto max-w-7xl)
    - [x] Hero Section 추가 (제목 및 설명)
    - [x] 관광지 목록 영역 준비 (Phase 2에서 구현 예정)
  - [x] `components/Footer.tsx` 생성
    - [x] 저작권 정보
    - [x] 네비게이션 링크 (홈, 통계, API 정보)
    - [x] 한국관광공사 API 제공 정보
    - [x] 반응형 디자인
- [x] 관광지 목록 기능 (MVP 2.1)
  - [x] `components/tour-card.tsx` 생성
    - [x] 썸네일 이미지 (기본 이미지 fallback)
    - [x] 관광지명
    - [x] 주소 표시
    - [x] 관광 타입 뱃지
    - [x] 호버 효과 (scale, shadow)
    - [x] 클릭 시 상세페이지 이동
  - [x] `components/tour-list.tsx` 생성
    - [x] 그리드 레이아웃 (반응형)
    - [x] 카드 목록 표시
    - [x] 로딩 상태 (Skeleton UI)
    - [x] 빈 상태 처리
    - [x] 에러 상태 처리
  - [x] API 연동
    - [x] `getAreaBasedList()` 호출 (서울 지역, 관광지 타입, 최신순)
    - [x] 데이터 파싱 및 표시
    - [x] 에러 처리
    - [x] Next.js Image 컴포넌트 사용 (이미지 최적화)
    - [x] `next.config.ts`에 한국관광공사 이미지 도메인 추가
- [x] 필터 기능
  - [x] `components/tour-filters.tsx` 생성
    - [x] 지역 필터 (시/도 선택)
      - [x] `getAreaCode()` API로 지역 목록 로드
      - [x] Select 드롭다운 사용
      - [x] "전체" 옵션
    - [x] 관광 타입 필터
      - [x] 관광지(12), 문화시설(14), 축제/행사(15), 여행코스(25), 레포츠(28), 숙박(32), 쇼핑(38), 음식점(39)
      - [x] 단일 선택 (Select 드롭다운)
      - [x] "전체" 옵션
    - [x] 정렬 옵션
      - [x] 최신순 (C - 수정일순)
      - [x] 이름순 (A - 가나다)
      - [x] 조회순 (B)
      - [x] 생성일순 (D)
    - [x] 필터 상태 관리 (URL 쿼리 파라미터)
      - [x] `useSearchParams` 및 `useRouter` 사용
      - [x] 필터 변경 시 URL 업데이트
      - [x] 필터 초기화 버튼
  - [x] 필터 적용 로직
    - [x] 필터 변경 시 API 재호출 (Server Component에서 URL 파라미터 읽기)
    - [x] 필터 조합 처리 (지역 + 타입 + 정렬)
    - [x] `app/page.tsx`에 필터 통합
- [x] 검색 기능 (MVP 2.3)
  - [x] `components/tour-search.tsx` 생성
    - [x] 검색창 UI (Navbar 및 Hero Section 두 가지 variant)
    - [x] 검색 아이콘
    - [x] 엔터 또는 버튼 클릭으로 검색
    - [x] 검색 중 로딩 스피너 (useTransition 사용)
    - [x] URL 쿼리 파라미터로 검색 상태 관리
  - [x] 검색 API 연동
    - [x] `searchKeyword()` 호출 (키워드가 있을 때)
    - [x] 검색 결과 표시 (TourList 컴포넌트 재사용)
    - [x] 검색 결과 개수 표시
    - [x] 결과 없음 메시지 (TourList의 빈 상태 처리)
  - [x] 검색 + 필터 조합
    - [x] 키워드 + 지역 필터
    - [x] 키워드 + 타입 필터
    - [x] 모든 필터 동시 적용 (키워드 + 지역 + 타입 + 정렬)
    - [x] `app/page.tsx`에서 검색/필터 로직 통합
- [x] 네이버 지도 연동 (MVP 2.2)
  - [x] `components/naver-map.tsx` 생성
    - [x] Naver Maps API v3 초기화 (동적 스크립트 로드)
    - [x] 지도 컨테이너 설정
    - [x] 초기 중심 좌표 설정 (관광지 평균 좌표 또는 기본값)
    - [x] 줌 레벨 설정 (기본 10, 선택 시 15)
    - [x] 지도 타입 컨트롤 (일반/스카이뷰)
    - [x] 줌 컨트롤
  - [x] 마커 표시
    - [x] 관광지 목록을 마커로 표시
    - [x] 좌표 변환 (KATEC → WGS84: mapx/mapy / 10000000)
      - [x] `lib/utils/coordinate.ts` 유틸리티 함수 생성
    - [x] 마커 클릭 시 인포윈도우
      - [x] 관광지명
      - [x] 주소
      - [x] "상세보기" 버튼
    - [x] 선택된 마커 강조 표시 (빨간색, 크게)
  - [x] 지도-리스트 연동
    - [x] 리스트 항목 클릭 → 지도 이동 및 마커 강조
    - [x] 마커 클릭 → 리스트 항목 강조 (selectedTourId 상태 관리)
    - [x] 선택된 카드 강조 표시 (ring, border-primary)
  - [x] 반응형 레이아웃
    - [x] `components/tour-map-view.tsx` 생성 (통합 뷰)
    - [x] 데스크톱: 리스트(좌측 50%) + 지도(우측 50%) 분할
    - [x] 모바일: 탭 형태로 리스트/지도 전환 (Tabs 컴포넌트)
    - [x] 지도 최소 높이: 400px (모바일), 600px (데스크톱)
    - [x] 모든 관광지가 보이도록 지도 범위 자동 조정 (fitBounds)
- [x] 페이지네이션
  - [x] 페이지 번호 선택 방식 구현
    - [x] `components/pagination.tsx` 생성
    - [x] 이전/다음 페이지 버튼
    - [x] 페이지 번호 버튼 (최대 7개 표시, 생략 표시)
    - [x] 현재 페이지 강조 표시
    - [x] URL 쿼리 파라미터로 페이지 상태 관리
    - [x] 페이지 변경 시 상단으로 스크롤
    - [x] 접근성 개선 (ARIA 레이블, aria-current)
  - [x] API 응답에 페이지네이션 정보 포함
    - [x] `lib/types/pagination.ts` 생성 (PaginatedResponse 타입)
    - [x] `getAreaBasedList()` 반환 타입 변경 (totalCount, totalPages 포함)
    - [x] `searchKeyword()` 반환 타입 변경 (totalCount, totalPages 포함)
    - [x] `extractPaginationInfo()` 함수 추가
  - [x] 홈페이지에 페이지네이션 통합
    - [x] 페이지네이션 컴포넌트 표시
    - [x] 전체 개수 및 현재 범위 표시
    - [x] 페이지당 20개 항목
  - [x] 무한 스크롤 구현
    - [x] `components/infinite-scroll.tsx` 생성
      - [x] Intersection Observer 사용
      - [x] 하단 로딩 인디케이터 (Loader2 + 메시지)
      - [x] rootMargin 100px로 미리 로드
    - [x] `app/api/tour/infinite/route.ts` 생성
      - [x] 무한 스크롤용 API Route
      - [x] 검색 및 필터 파라미터 지원
      - [x] 캐싱 헤더 설정
    - [x] `TourMapView`에 무한 스크롤 통합
      - [x] enableInfiniteScroll prop 추가
      - [x] 하단 도달 시 자동 로드
      - [x] 로드된 관광지를 지도에 자동 추가
      - [x] 검색 파라미터 변경 시 초기화
    - [x] 홈페이지에 무한 스크롤 활성화
      - [x] 페이지네이션 대신 무한 스크롤 사용
      - [x] 현재 표시 개수 표시
- [x] 최종 통합 및 스타일링
  - [x] 모든 기능 통합 테스트
    - [x] 검색 + 필터 + 지도 연동 확인
    - [x] 리스트-지도 상호작용 확인
  - [x] 반응형 디자인 확인 및 개선 (모바일/태블릿/데스크톱)
    - [x] Navbar 반응형 개선 (모바일에서 검색창 숨김, 데스크톱에서 표시)
    - [x] 필터 그리드 반응형 개선 (sm: 2열, lg: 3열)
    - [x] 지도 뷰 반응형 개선 (데스크톱 분할, 모바일 탭)
    - [x] 카드 그리드 반응형 확인 (모바일 1열, 태블릿 2열, 데스크톱 3열)
  - [x] 로딩 상태 개선
    - [x] TourList 스켈레톤 UI 개선 (카드 형태로 변경)
    - [x] NaverMap 로딩 상태 개선 (스피너 + 메시지)
    - [x] 빈 상태 UI 개선 (아이콘 + 설명)
  - [x] 에러 처리 개선
    - [x] Error 컴포넌트 스타일 개선 (아이콘 배경, 레이아웃)
    - [x] NaverMap 에러 상태 개선 (명확한 메시지)
    - [x] 빈 상태 메시지 개선 (더 친절한 안내)
  - [x] 접근성 개선
    - [x] ARIA 레이블 추가 (Navbar, 필터, 카드)
    - [x] 키보드 포커스 스타일 개선 (focus:ring)
    - [x] 시맨틱 HTML 사용 (nav, section, role)
  - [x] 스타일 통일성 개선
    - [x] Hero Section 그라데이션 텍스트 추가
    - [x] 로고 그라데이션 스타일 적용
    - [x] 선택된 카드 강조 스타일 개선 (ring-offset)
    - [x] 호버 효과 통일 (transition-all duration-300)
    - [x] 그림자 및 테두리 스타일 통일

## Phase 3: 상세페이지 (`/places/[contentId]`)

- [x] 페이지 기본 구조
  - [x] `app/places/[contentId]/page.tsx` 생성
    - [x] 동적 라우팅 설정
    - [x] 뒤로가기 버튼 (헤더)
    - [x] 기본 레이아웃 구조
    - [x] 라우팅 테스트
- [x] 기본 정보 섹션 (MVP 2.4.1)
  - [x] `components/tour-detail/detail-info.tsx` 생성
    - [x] `getDetailCommon()` API 연동
    - [x] 관광지명 (대제목)
    - [x] 대표 이미지 (크게 표시)
    - [x] 주소 표시 및 복사 기능
      - [x] 클립보드 API 사용
      - [x] 복사 완료 토스트
    - [x] 전화번호 (클릭 시 전화 연결)
    - [x] 홈페이지 (링크)
    - [x] 개요 (긴 설명문)
    - [x] 관광 타입 및 카테고리 뱃지
    - [x] 정보 없는 항목 숨김 처리
- [x] 운영 정보 섹션 (MVP 2.4.2)
  - [x] `components/tour-detail/detail-intro.tsx` 생성
    - [x] `getDetailIntro()` API 연동
    - [x] 운영시간/개장시간 (타입별로 다른 필드)
    - [x] 휴무일 (타입별로 다른 필드)
    - [x] 이용요금 (타입별로 다른 필드)
    - [x] 주차 가능 여부
    - [x] 문의처
    - [x] 체험 프로그램 (관광지 타입)
    - [x] 반려동물 동반 가능 여부
    - [x] 타입별 특수 정보 (축제, 여행코스, 숙박, 쇼핑, 음식점)
    - [x] 정보 없는 항목 숨김 처리
- [x] 이미지 갤러리 (MVP 2.4.3)
  - [x] `components/tour-detail/detail-gallery.tsx` 생성
    - [x] `getDetailImage()` API 연동
    - [x] 대표 이미지 + 서브 이미지들 (썸네일 그리드)
    - [x] 이미지 슬라이드 기능 (이전/다음 버튼, 인디케이터)
    - [x] 이미지 클릭 시 전체화면 모달
    - [x] 이미지 없으면 기본 이미지 표시
    - [x] Next.js Image 컴포넌트 사용 (최적화)
- [x] 지도 섹션 (MVP 2.4.4)
  - [x] `components/tour-detail/detail-map.tsx` 생성
    - [x] 해당 관광지 위치 표시
    - [x] 마커 1개 표시 (빨간색 원형 마커)
    - [x] "길찾기" 버튼
      - [x] 네이버 지도 앱/웹 연동
      - [x] URL: `https://map.naver.com/v5/directions/{좌표}`
    - [x] 좌표 정보 표시 (WGS84 좌표)
    - [x] 마커 클릭 시 인포윈도우 (관광지명, 주소)
    - [x] 줌 컨트롤
- [x] 공유 기능 (MVP 2.4.5)
  - [x] `components/tour-detail/share-button.tsx` 생성
    - [x] URL 복사 기능
      - [x] `navigator.clipboard.writeText()` 사용
      - [x] HTTPS 환경 확인
      - [x] Fallback 방법 (document.execCommand)
    - [x] 복사 완료 토스트 메시지
    - [x] 공유 아이콘 버튼 (Share2 아이콘)
    - [x] 복사 완료 시 체크 아이콘 표시
  - [x] Open Graph 메타태그
    - [x] `app/places/[contentId]/page.tsx`에 generateMetadata 생성
    - [x] `og:title` - 관광지명 + "My Trip"
    - [x] `og:description` - 관광지 설명 (100자 이내)
    - [x] `og:image` - 대표 이미지
    - [x] `og:url` - 상세페이지 URL
    - [x] `og:type` - "website"
    - [x] Twitter Card 메타태그 추가
- [x] 북마크 기능 (MVP 2.4.5)
  - [x] `components/bookmarks/bookmark-button.tsx` 생성
    - [x] 별 아이콘 (채워짐/비어있음)
    - [x] 북마크 상태 확인 (Supabase 조회)
    - [x] 북마크 추가/제거 기능
    - [x] 인증된 사용자 확인 (Clerk)
    - [x] 로그인하지 않은 경우: 로그인 유도 (SignInButton)
  - [x] Supabase 연동
    - [x] `lib/api/bookmark-api.ts` 생성
      - [x] `getBookmark()` - 북마크 조회
      - [x] `addBookmark()` - 북마크 추가
      - [x] `removeBookmark()` - 북마크 제거
      - [x] `getUserBookmarks()` - 사용자 북마크 목록
      - [x] `getSupabaseUserId()` - Clerk userId → Supabase user_id 변환
    - [x] `bookmarks` 테이블 사용 (db.sql 참고)
      - [x] `user_id` (users 테이블 참조)
      - [x] `content_id` (한국관광공사 API contentid)
      - [x] UNIQUE 제약 (user_id, content_id) 처리
  - [x] 상세페이지에 북마크 버튼 추가 (헤더 영역)
- [x] 반려동물 정보 섹션 (MVP 2.5)
  - [x] `components/tour-detail/detail-pet-tour.tsx` 생성
    - [x] `getDetailPetTour()` API 연동
    - [x] 반려동물 동반 가능 여부 표시 (강조 표시, 가능/불가능 색상 구분)
    - [x] 반려동물 크기 제한 정보
    - [x] 반려동물 입장 가능 장소 (실내/실외)
    - [x] 반려동물 동반 추가 요금
    - [x] 주차장 정보
    - [x] 기타 반려동물 정보 (주의사항 강조 표시)
    - [x] 아이콘 및 뱃지 디자인 (Dog 아이콘)
    - [x] 정보 없는 항목 숨김 처리
- [x] 추천 관광지 섹션 (선택 사항)
  - [x] 같은 지역 또는 타입의 다른 관광지 추천
  - [x] 카드 형태로 표시 (TourCard 컴포넌트 재사용)
  - [x] 현재 관광지 제외 필터링
  - [x] 로딩 상태 처리
  - [x] 에러 처리
  - [x] 정보 없으면 섹션 숨김
- [x] 최종 통합 및 스타일링
  - [x] 모든 섹션 통합 (기본 정보, 운영 정보, 이미지 갤러리, 지도, 반려동물 정보, 추천 관광지)
  - [x] 반응형 디자인 확인
    - [x] 헤더: 모바일에서 텍스트 숨김 (sm:inline)
    - [x] 컨테이너: max-w-7xl, px-4 (모바일 패딩)
    - [x] 섹션 간격: mb-8 (일관된 간격)
    - [x] 추천 관광지: 그리드 반응형 (1열 → 2열 → 3열)
  - [x] 모바일 최적화
    - [x] 터치 친화적 버튼 크기
    - [x] 이미지 최적화 (Next.js Image)
    - [x] 지도 높이 조정 (모바일 400px, 데스크톱 500px)
  - [x] 접근성 확인 (ARIA 라벨, 키보드 네비게이션)
    - [x] 섹션별 aria-label 추가
    - [x] 버튼 aria-label 추가
    - [x] 시맨틱 HTML 사용 (header, main, section)
    - [x] 키보드 포커스 스타일 (focus:ring)

## Phase 4: 통계 대시보드 페이지 (`/stats`)

- [x] 페이지 기본 구조
  - [x] `app/stats/page.tsx` 생성
    - [x] 기본 레이아웃 구조
      - [x] 헤더 영역 (제목, 설명)
      - [x] 메인 콘텐츠 영역 (3개 섹션)
      - [x] 통계 요약 카드 섹션 (플레이스홀더)
      - [x] 지역별 분포 차트 섹션 (플레이스홀더)
      - [x] 타입별 분포 차트 섹션 (플레이스홀더)
    - [x] 반응형 레이아웃 설정 (모바일 우선)
      - [x] 컨테이너: max-w-7xl, px-4
      - [x] 헤더: sticky top-16
      - [x] 섹션 간격: mb-8
    - [x] Server Component로 구현
    - [x] Metadata 설정 (SEO)
    - [x] 접근성 (ARIA 라벨)
- [x] 통계 데이터 수집
  - [x] `lib/api/stats-api.ts` 생성
    - [x] `getRegionStats()` - 지역별 관광지 개수 집계
      - [x] `getAreaCode()`로 지역 목록 조회
      - [x] `areaBasedList2` API로 각 지역별 totalCount 조회
      - [x] 지역 코드별로 병렬 API 호출
      - [x] 개수 기준 내림차순 정렬
    - [x] `getTypeStats()` - 타입별 관광지 개수 집계
      - [x] `areaBasedList2` API로 각 타입별 totalCount 조회
      - [x] contentTypeId별로 병렬 API 호출
      - [x] 비율(percentage) 계산
      - [x] 개수 기준 내림차순 정렬
    - [x] `getStatsSummary()` - 전체 통계 요약
      - [x] `getRegionStats()`와 `getTypeStats()` 병렬 호출
      - [x] 전체 관광지 수 계산
      - [x] Top 3 지역 추출
      - [x] Top 3 타입 추출
      - [x] 마지막 업데이트 시간
    - [x] 병렬 API 호출로 성능 최적화 (Promise.all 사용)
    - [x] 에러 처리 (개별 지역/타입 에러는 0으로 처리하여 계속 진행)
    - [x] 통계 페이지에 API 통합 및 데이터 표시
- [x] 통계 요약 카드
  - [x] `components/stats/stats-summary.tsx` 생성
    - [x] 전체 관광지 수 표시 (아이콘 + 큰 숫자)
    - [x] Top 3 지역 표시 (카드 형태, 순위 표시)
    - [x] Top 3 타입 표시 (카드 형태, 순위 및 비율 표시)
    - [x] 마지막 업데이트 시간 표시 (날짜 + 시간)
    - [x] 카드 레이아웃 디자인 (그리드 레이아웃, 호버 효과)
    - [x] 아이콘 사용 (BarChart3, Trophy, MapPin, Calendar)
    - [x] 반응형 디자인 (모바일 1열, 태블릿 2열, 데스크톱 4열)
- [x] 지역별 분포 차트 (Bar Chart)
  - [x] `components/stats/region-chart.tsx` 생성
    - [x] recharts 기반 Bar Chart 구현
    - [x] X축: 지역명 (서울, 부산, 제주 등, -45도 각도)
    - [x] Y축: 관광지 개수 (천 단위 포맷)
    - [x] 상위 10개 지역 표시
    - [x] 바 클릭 가능 (호버 효과)
    - [x] 호버 시 정확한 개수 표시 (커스텀 툴팁)
    - [x] 상위 10개 지역 목록 (클릭 시 해당 지역 목록 페이지로 이동)
    - [x] 다크/라이트 모드 지원 (CSS 변수 사용)
    - [x] 반응형 디자인 (ResponsiveContainer)
    - [x] 접근성 (ARIA 라벨)
- [x] 타입별 분포 차트 (Donut Chart)
  - [x] `components/stats/type-chart.tsx` 생성
    - [x] recharts 기반 Donut Chart 구현 (PieChart with innerRadius)
    - [x] 타입별 비율 (백분율, 라벨 표시)
    - [x] 타입별 개수 표시
    - [x] 섹션 클릭 시 해당 타입 목록 페이지로 이동 (레전드 및 목록)
    - [x] 호버 시 타입명, 개수, 비율 표시 (커스텀 툴팁)
    - [x] 다크/라이트 모드 지원 (CSS 변수 사용)
    - [x] 반응형 디자인 (ResponsiveContainer)
    - [x] 접근성 (ARIA 라벨)
- [x] 페이지 통합
  - [x] `app/stats/page.tsx`에 모든 컴포넌트 통합
    - [x] 통계 요약 카드 (상단) - StatsSummary 컴포넌트
    - [x] 지역별 분포 차트 (중단) - RegionChart 컴포넌트
    - [x] 타입별 분포 차트 (하단) - TypeChart 컴포넌트
  - [x] 에러 처리 (에러 메시지 표시)
  - [x] 네비게이션에 통계 페이지 링크 추가 (이미 구현됨 - Navbar.tsx)
  - [x] 최종 페이지 확인

## Phase 5: 북마크 페이지 (`/bookmarks`) - 선택 사항

- [x] Supabase 설정 확인
  - [x] `bookmarks` 테이블 확인 (db.sql 참고)
    - [x] `users` 테이블과의 관계 확인 (ON DELETE CASCADE)
    - [x] 인덱스 확인 (user_id, content_id, created_at)
    - [x] RLS 비활성화 확인 (개발 환경)
- [x] 북마크 목록 페이지
  - [x] `app/bookmarks/page.tsx` 생성
    - [x] 기본 레이아웃 구조 (헤더, 메인 콘텐츠)
    - [x] Metadata 설정 (SEO)
    - [x] 로그인하지 않은 경우 BookmarkList에서 로그인 유도 메시지 표시
  - [x] `components/bookmarks/bookmark-list.tsx` 생성
    - [x] 사용자 북마크 목록 조회 (`getUserBookmarks()`)
    - [x] 각 북마크의 관광지 정보 조회 (병렬 처리)
    - [x] TourDetail을 TourItem으로 변환 (`tourDetailToItem`)
    - [x] 카드 레이아웃 (TourCard 컴포넌트 재사용)
    - [x] 빈 상태 처리 (북마크 없을 때, 로그인 필요 메시지)
    - [x] 로딩 상태 (TourList Skeleton UI)
    - [x] 에러 처리
- [x] 북마크 관리 기능
  - [x] 정렬 옵션
    - [x] 최신순 (created_at DESC)
    - [x] 이름순 (가나다순)
    - [x] 지역별 (addr1에서 지역 추출)
  - [x] 일괄 삭제 기능
    - [x] 체크박스 선택 (전체 선택/해제)
    - [x] 선택 항목 삭제 (병렬 처리)
    - [x] 확인 다이얼로그 (AlertDialog)
  - [x] 개별 삭제 기능
    - [x] 각 카드에 삭제 버튼 (호버 시 표시)
    - [x] 북마크 날짜 표시
- [x] 유틸리티 함수
  - [x] `lib/utils/tour.ts` 생성
    - [x] `tourDetailToItem()` - TourDetail을 TourItem으로 변환
- [x] 페이지 통합 및 스타일링
  - [x] 반응형 디자인 확인 (그리드 레이아웃: 모바일 1열, 태블릿 2열, 데스크톱 3열)
  - [x] 최종 페이지 확인

## Phase 6: 최적화 & 배포

- [ ] 이미지 최적화
  - [ ] `next.config.ts` 외부 도메인 설정
    - [ ] 한국관광공사 이미지 도메인 추가
    - [ ] 네이버 지도 이미지 도메인 추가
  - [ ] Next.js Image 컴포넌트 사용 확인
    - [ ] priority 속성 (above-the-fold)
    - [ ] lazy loading (below-the-fold)
    - [ ] responsive sizes 설정
- [ ] 전역 에러 핸들링
  - [ ] `app/error.tsx` 생성
  - [ ] `app/global-error.tsx` 생성
  - [ ] API 에러 처리 개선
- [ ] 404 페이지
  - [ ] `app/not-found.tsx` 생성
    - [ ] 사용자 친화적인 메시지
    - [ ] 홈으로 돌아가기 버튼
- [ ] SEO 최적화
  - [ ] 메타태그 설정 (`app/layout.tsx`)
    - [ ] 기본 title, description
    - [ ] Open Graph 태그
    - [ ] Twitter Card 태그
  - [ ] `app/sitemap.ts` 생성
    - [ ] 동적 sitemap 생성 (관광지 상세페이지 포함)
  - [ ] `app/robots.ts` 생성
- [ ] 성능 최적화
  - [ ] Lighthouse 점수 측정 (목표: > 80)
  - [ ] 코드 분할 확인
  - [ ] 불필요한 번들 제거
  - [ ] API 응답 캐싱 전략 확인
- [ ] 환경변수 보안 검증
  - [ ] 모든 필수 환경변수 확인
  - [ ] `.env.example` 업데이트
  - [ ] 프로덕션 환경변수 설정 가이드 작성
- [ ] 배포 준비
  - [ ] Vercel 배포 설정
  - [ ] 환경변수 설정 (Vercel 대시보드)
  - [ ] 빌드 테스트 (`pnpm build`)
  - [ ] 프로덕션 배포 및 테스트

## 추가 작업 (선택 사항)

- [ ] 다크 모드 지원
  - [ ] 테마 전환 기능
  - [ ] 모든 컴포넌트 다크 모드 스타일 적용
- [ ] PWA 지원
  - [ ] `app/manifest.ts` 생성
  - [ ] Service Worker 설정
  - [ ] 오프라인 지원
- [ ] 접근성 개선
  - [ ] ARIA 라벨 추가
  - [ ] 키보드 네비게이션 개선
  - [ ] 색상 대비 확인 (WCAG AA)
- [ ] 성능 모니터링
  - [ ] Web Vitals 측정
  - [ ] 에러 로깅 (Sentry 등)
- [ ] 사용자 피드백
  - [ ] 피드백 수집 기능
  - [ ] 버그 리포트 기능
